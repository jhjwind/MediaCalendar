<style>
body {
  overflow: hidden;
  margin: 0px;
  padding: 0px;
  background: white;
}

div:first-child {
  margin-top: 0px;
}

div {
  cursor: pointer;
  text-align: center;
  padding: 1px 3px;
  font-family: sans-serif;
  font-size: 0.8em;
  width: 100px;
  margin-top: 1px;
  background: #cccccc;
}
div:hover {
  background: #aaaaaa;
}
</style>

<script>
function gotoCalendar() {
	var calUrl = "http://www.google.com/calendar/render?tab=mc&pli=1";
	chrome.tabs.create({ url: calUrl });
	window.close();
}

function shareVideo() {
	var vidUrl = window.location;
	
	if(vidUrl.hostname == "www.youtube.com") {
		chrome.tabs.executeScript(null, { file: shareVideo.js });
	}
}

chrome.browserAction.onClicked.addListener(function(tab) {
	var loc = tab.url;
	
	if(loc.match("http\:\/\/www\.youtube\.com\/watch\?v=([A-Za-z0-9_]|\-){11}")) {
		$('#share').attr("disabled", null);
	}
	else {
		$('#share').attr("disabled", "disabled");
	}
});
</script>

<button type="button" onclick="gotoCalendar()" id="goto">Go to MediaCalendar</div>
<button type="button" onclick="shareVideo()" id="share" disabled="disabled">Share This Video</div>
